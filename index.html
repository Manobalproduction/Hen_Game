<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
        }
        #main_screen {
            width: 100vw;
            height: 100vh;
            background-color: #87CEEB;
        }
        #title-screen {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2rem;
            color: white;
        }
        .parallax-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
        }
        .tile, .hero-animations {
            position: absolute;
            top: 0;
            left: 0;
        }
    </style>
</head>
<body>
    <canvas id="main_screen"></canvas>
    <div id="title-screen">
        <h1>Welcome to the Game!</h1>
    </div>
    <!-- Parallax Background Layers -->
    <div id="parallax-mountain-bg" class="parallax-layer"></div>
    <div id="parallax-mountain-montain-far" class="parallax-layer"></div>
    <div id="parallax-mountain-mountains" class="parallax-layer"></div>
    <div id="parallax-mountain-trees" class="parallax-layer"></div>
    <div id="parallax-mountain-foreground-trees" class="parallax-layer"></div>

    <!-- Tiles for the game -->
    <div id="tiles" class="tile"></div>

    <!-- Hero Animations -->
    <img id="hero-idle-left" src="hero-idle-left.png" alt="Idle Left">
    <img id="hero-idle-right" src="hero-idle-right.png" alt="Idle Right">
    <img id="hero-run-left" src="hero-run-left.png" alt="Run Left">
    <img id="hero-run-right" src="hero-run-right.png" alt="Run Right">
    <img id="hero-jump-left" src="hero-jump-left.png" alt="Jump Left">
    <img id="hero-jump-right" src="hero-jump-right.png" alt="Jump Right">
    <img id="hero-attack-left" src="hero-attack-left.png" alt="Attack Left">
    <img id="hero-attack-right" src="hero-attack-right.png" alt="Attack Right">
    <img id="hero-crouch-left" src="hero-crouch-left.png" alt="Crouch Left">
    <img id="hero-crouch-right" src="hero-crouch-right.png" alt="Crouch Right">
    <img id="hero-hurt-left" src="hero-hurt-left.png" alt="Hurt Left">
    <img id="hero-hurt-right" src="hero-hurt-right.png" alt="Hurt Right">

    <script>
        const canvas = document.getElementById('main_screen');
        const context = canvas.getContext("2d");
        var pressedKeys = {};
        window.onkeyup   = function(e) { pressedKeys[e.keyCode] = false; }
        window.onkeydown = function(e) { pressedKeys[e.keyCode] = true;  }

        const titleScreen = document.getElementById("title-screen");
        const layers = [
            document.getElementById("parallax-mountain-bg"),
            document.getElementById("parallax-mountain-montain-far"),
            document.getElementById("parallax-mountain-mountains"),
            document.getElementById("parallax-mountain-trees"),
            document.getElementById("parallax-mountain-foreground-trees")
        ];

        const tiles = document.getElementById("tiles");

        const heroIdleAnimationLeft = document.getElementById("hero-idle-left");
        const heroIdleAnimationRight = document.getElementById("hero-idle-right");

        // Initial state
        let gameStarted = false;

        // Start the game when the user clicks anywhere or presses a key
        window.addEventListener('click', startGame);
        window.addEventListener('keydown', startGame);

        function startGame() {
            if (!gameStarted) {
                gameStarted = true;
                titleScreen.style.display = 'none';  // Hide the title screen
                setupGame();
            }
        }

        function setupGame() {
            // Set up initial game state (you can expand this as needed)
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            // Start the game loop
            gameLoop();
        }

        function gameLoop() {
            if (gameStarted) {
                // Example game logic - clear screen and redraw background
                context.clearRect(0, 0, canvas.width, canvas.height);
                context.fillStyle = '#87CEEB';
                context.fillRect(0, 0, canvas.width, canvas.height);

                // Example: Draw Hero Animation (This is just an example; you can adjust as needed)
                context.drawImage(heroIdleAnimationLeft, 100, 100, 100, 100);

                // Call gameLoop again (this creates an animation loop)
                requestAnimationFrame(gameLoop);
            }
        }
    </script>
</body>
</html>
